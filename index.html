<body>
  <div id="timeline"></div>

  <script>
    const apiUrl = 'https://script.google.com/macros/s/AKfycbzZgiy79BuQtUgE1QVgdjaEpSD7knxwiLJsOdLADEmXk9eX2baUy9jwfsNomLXUKs6QbA/exec'; // ← Apps Script 公開URL

    fetch(apiUrl)
      .then(response => response.json())
      .then(data => {
        console.log("取得したデータ：", data);

        if (!Array.isArray(data)) {
          document.getElementById("timeline").textContent = "データが配列ではありません";
          return;
        }

        data.forEach(item => {
          const div = document.createElement("div");
          div.textContent = `${item.timestamp} / ${item.windDeg}°`;
          document.getElementById("timeline").appendChild(div);
        });
      })
      .catch(err => {
        console.error("エラー：", err);
        document.getElementById("timeline").textContent = "データ取得エラー";
      });
  </script>
</body>
